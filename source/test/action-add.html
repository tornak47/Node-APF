<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:a="http://ajax.org/2005/aml" xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <script src="../apf.js"></script>
    </head>
    <body>
        <a:skin src="../skins.xml" media-path="../images/" icon-path="../icons/" />
        
        <a:appsettings debug="1" />
        
        <a:teleport>
            <a:rpc id="comm" protocol="cgi"> 
                <a:method name="addProduct" url="addproduct.php"> 
                    <a:variable name="xmlNode" /> 
                </a:method> 
            </a:rpc> 
        </a:teleport>
        
        <a:list id="myList" onerror="return false;">
            <a:bindings> 
                <a:caption match="[@name]" /> 
                <a:value match="[@id]" /> 
                <a:icon>[@type].png</a:icon> 
                <a:each match="[product]" /> 
            </a:bindings> 
            <!--a:add set="{comm.addProduct()}"> 
                <product name="new item" type="" /> 
            </a:add--> 
            <a:add 
              set  = "addproduct.php?xml=%[.]" 
              undo = "remove.php?id=[@id]">
                <product name="New product" id="product66" /> 
            </a:add> 
            <a:model> 
                <products> 
                    <product name="Soundblaster" type="audio" id="product10" /> 
                    <product name="Teapot" type="3d" id="product13" /> 
                    <product name="Coprocessor" type="chips" id="product15" /> 
                    <product name="Keyboard" type="input" id="product17" /> 
                    <product name="Diskdrive" type="storage" id="product20" /> 
                </products> 
            </a:model> 
        </a:list> 
        <a:button action="add" target="myList">Add new product</a:button>
        <a:button action="undo" target="myList">Undo</a:button>
    </body>
</html>